# –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ñ–µ–¥–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ - –°–≤–æ–¥–∫–∞

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:

1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
   - –ö–ª–∏–µ–Ω—Ç 1: 16,666 –∑–∞–ø–∏—Å–µ–π (patient IDs 1-16,666)
   - –ö–ª–∏–µ–Ω—Ç 2: 16,666 –∑–∞–ø–∏—Å–µ–π (patient IDs 16,667-33,332)
   - –ö–ª–∏–µ–Ω—Ç 3: 16,668 –∑–∞–ø–∏—Å–µ–π (patient IDs 33,333-50,000)
   - **–í—Å–µ–≥–æ: 50,000 –∑–∞–ø–∏—Å–µ–π**

2. **–ú–æ–¥–µ–ª—å:**
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: 17 –≤—Ö–æ–¥–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ ‚Üí 256 ‚Üí 128 ‚Üí 64 ‚Üí 32 ‚Üí 1
   - –ü–∞—Ä–∞–º–µ—Ç—Ä–æ–≤: 48,769
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Batch Normalization –∏ Dropout

3. **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - –ö–ª–∏–µ–Ω—Ç 1: 417 train batches, 105 val batches
   - –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞: 32
   - –§–æ—Ä–º–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤: (32, 17)
   - –§–æ—Ä–º–∞ —Ü–µ–ª–µ–π: (32,)

## üöÄ –ó–∞–ø—É—Å–∫ –æ–±—É—á–µ–Ω–∏—è

–û–±—É—á–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ —Å –ø–æ–º–æ—â—å—é:
```bash
python scripts/run_federated_local.py
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- **–†–∞—É–Ω–¥–æ–≤:** 5 (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –º–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 10)
- **–õ–æ–∫–∞–ª—å–Ω—ã—Ö —ç–ø–æ—Ö:** 3 –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∑–∞ —Ä–∞—É–Ω–¥
- **Batch size:** 32
- **Learning rate:** 0.001
- **–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** FedAvg (—É—Å—Ä–µ–¥–Ω–µ–Ω–∏–µ –≤–µ—Å–æ–≤)

## üìä –ü—Ä–æ—Ü–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è

1. –°–µ—Ä–≤–µ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –º–æ–¥–µ–ª—å —Å —Å–ª—É—á–∞–π–Ω—ã–º–∏ –≤–µ—Å–∞–º–∏
2. –°–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–µ—Å–∞ –≤—Å–µ–º 3 –∫–ª–∏–µ–Ω—Ç–∞–º
3. –ö–∞–∂–¥—ã–π –∫–ª–∏–µ–Ω—Ç –æ–±—É—á–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —Å–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö (3 —ç–ø–æ—Ö–∏)
4. –ö–ª–∏–µ–Ω—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –≤–µ—Å–∞ –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
5. –°–µ—Ä–≤–µ—Ä –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –≤–µ—Å–∞ (FedAvg)
6. –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è 5 —Ä–∞—É–Ω–¥–æ–≤
7. –ú–æ–¥–µ–ª—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `flower_server/models/active_model.pt`

## üìÅ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤:
- `flower_server/models/active_model.pt` - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å
- `flower_server/models/model_round_N.pt` - –º–æ–¥–µ–ª–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ä–∞—É–Ω–¥–∞

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏

–ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å:

```bash
python scripts/test_model.py
```

## üìù –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- –í—ã–≤–æ–¥ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –º–æ–¥–µ–ª–µ–π

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ–±—É—á–µ–Ω–∏—è –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `scripts/run_federated_local.py`:

```python
env["NUM_ROUNDS"] = "10"        # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞—É–Ω–¥–æ–≤
env["LOCAL_EPOCHS"] = "5"       # –≠–ø–æ—Ö –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
env["BATCH_SIZE"] = "32"         # –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞
env["LEARNING_RATE"] = "0.001"  # –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è
```

## ‚úÖ –°—Ç–∞—Ç—É—Å

- ‚úÖ –î–∞–Ω–Ω—ã–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã
- ‚úÖ –ú–æ–¥–µ–ª—å —Å–æ–∑–¥–∞–Ω–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- ‚úÖ –ö–ª–∏–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å CSV –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –°–µ—Ä–≤–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –≤–µ—Å–æ–≤
- ‚úÖ –û–±—É—á–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è (5 —Ä–∞—É–Ω–¥–æ–≤)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã
5. –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä–µ –¥–ª—è –±–æ–ª–µ–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è


